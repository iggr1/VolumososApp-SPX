/* --- All Pallets modal --- */
.allpallets-modal {
  display: grid;
  grid-template-rows: 1fr auto;
  gap: 24rem;
  height: 100%;
  min-height: 0;
  overflow: hidden;
}

/* grade de pallets (4 colunas) */
.allpallets-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 18rem;
  align-content: start;
  justify-items: center;
  padding: 8rem 4rem 0;
  min-height: 0;          /* permite o filho rolar dentro do grid container */
  overflow: auto;         /* rolagem só na grade */
  scrollbar-gutter: stable;
  scrollbar-width: thin;
  scrollbar-color: var(--dark-gray) var(--light-gray);
}

.allpallets-item {
  position: relative;     /* para o ::after */
  width: 180rem;
  height: 180rem;
  border: 0;
  border-radius: 30rem;
  background: var(--light-gray);
  color: var(--darker-gray);
  font-size: 52rem;
  font-weight: var(--text-bold);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2rem 0 rgba(0,0,0,.04);
  cursor: pointer;
  transition: transform .08s ease, background .12s ease;
}
.allpallets-item:hover { background: #e6e6e6; }
.allpallets-item:active { transform: translateY(2rem); }

/* skeleton ao carregar */
.allpallets-grid--loading .allpallets-item,
.skeleton {
  width: 180rem;
  height: 180rem;
  border-radius: 30rem;
  background: linear-gradient(90deg, #ececec 0%, #f5f5f5 50%, #ececec 100%);
  background-size: 200% 100%;
  animation: ap-skel 1s linear infinite;
}
@keyframes ap-skel { to { background-position: -200% 0; } }

.allpallets-empty {
  grid-column: 1 / -1;
  display: grid;
  justify-items: center;
  gap: 16rem;
  padding: 40rem 0;
  color: var(--dark-gray);
}
.allpallets-empty i {
  width: 60rem;
  height: 60rem;
  stroke: var(--dark-gray);
}

/* rodapé fixo ao fundo do modal (grade rola por cima) */
.allpallets-footer {
  position: relative;
  padding: 6rem 4rem 10rem;
  background: var(--modal-bg, #fff);
  box-shadow: 0 -6rem 18rem rgba(0,0,0,.06);
  z-index: 1;
  display: grid;
  gap: 20rem;  /* três botões */
}

.allpallets-modal-btn {
  width: 100%;
  height: 120rem;
  border: 0;
  border-radius: 85rem;
  background: var(--light-gray);
  color: var(--darker-gray);
  font-size: var(--text-medium);
  font-weight: var(--text-bold);
  letter-spacing: 2rem;
  text-transform: uppercase;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 14rem;
  cursor: pointer;
}

.allpallets-modal-btn i { width: 34rem; height: 34rem; stroke: currentColor; }
.allpallets-modal-btn[disabled] { cursor: not-allowed; color: var(--gray); background-color: var(--light-gray); }
.allpallets-modal-btn[disabled] svg { stroke: var(--gray) !important; }
.allpallets-modal-btn--danger { background: var(--red); color: var(--white); }

/* botão “primário” (imprimir) */
.allpallets-modal-btn--primary {
  background: var(--orange);
  color: var(--white);
}

#allpallets-selectall svg {
  width: 60rem;
  height: 60rem;
  stroke: var(--orange);
}

#allpallets-print svg {
  width: 60rem;
  height: 60rem;
  stroke: var(--white);
}

#allpallets-delete svg {
  width: 60rem;
  height: 60rem;
  stroke: var(--white);
}

/* estado selecionado */
.allpallets-item.is-selected {
  background: #ffd9d9;
  outline: 4rem solid var(--orange);
  color: var(--darker-gray);
}
.allpallets-item.is-selected::after {
  content: '✓';
  position: absolute;
  inset: 10rem 10rem auto auto;
  width: 40rem;
  height: 40rem;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 28rem;
  line-height: 1;
  background: var(--orange);
  color: var(--white);
  box-shadow: 0 2rem 0 rgba(0,0,0,.08);
}

/* Desativa seleção e callouts só dentro do modal dos pallets */
.allpallets-modal, .allpallets-modal * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

/* Se precisar reativar seleção em algum trecho, envolva com .allow-select */
.allow-select, .allow-select * {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
  -webkit-touch-callout: default !important;
}
